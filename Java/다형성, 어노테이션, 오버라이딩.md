> 2022년 5월 25일



## 다형성

> 하나의 타입에 여러 개의 객체를 대입하여 다양한 기능 이용 가능
>
> 클래스와 클래스 간 상속, 인터페이스

### 1. class 다형성

- 클래스 타입에는 모든 자식 객체가 대입 가능함
- 자식 타입은 부모 타입으로 **자동 타입 변환됨**
- 바로 위의 부모가 아니더라도 상속 계층의 상위이면 자동 타입 변환 가능

#### ★ 자동 타입 변환 후에는 부모 클래스 멤버만 접근 가능

- 변수는 자식 객체를 **참조** 하지만
- 변수로 **접근** 가능한 멤버는 **부모 클래스 멤버로**  한정

​	`Animal cat = new Cat(); //자동 타입 변환` 

- cat 변수는 Cat객체를 **참조** 하지만 Animal 멤버만 **접근 가능**
- **상속과 다형성**
  - 예) Apple 클래스가 Fruit 클래스의 상속을 받았을 때 인스턴스 apple은 Apple클래스와 Fruit클래스 멤버 접근(사용) 가능
  - 그런데, 다형성을 위해 Fruit f = new Apple(); 로 타입변환하면 인스턴스 f는 **Fruit 클래스 멤버만 접근(사용)가능**  =>  Fruit 클래스 타입으로 타입변환(자동타입변환)
- **오버라이딩** 할 경우 자식 클래스의 메소드가 대신 호출됨( Fruit의 메소드 대신 Apple 클래스의 메소드 호출)

### 2. Interface 다형성

> Interface를 오버라이딩한 구현 클래스(implements)와 다양한 클래스의 객체를 통한 다형성 구현 가능

- 개발 코드가 객체에 종속되지 않고 실행 내용과 리턴 값을 다양화 할 수 있는 장점을 가짐



### 3. 매개변수의 다형성

> 매개변수가 **(부모)클래스또는 인터페이스 타입인** 경우

- 매개값을 다양화 하기 위해 매개변수에 자식 타입 객체 또는 구현 객체를 대입하여 **자동 타입변환** 시킴
- 매개변수로 객체를 대입하여 다양한 실행 결과를 얻을 수 있으므로 다형성
- 자식 객체의 부모 메소드 재정의 / 구현 객체의 인터페이스 추상 메소드 재정의



###  4. 필드 다형성

> 인터페이스 타입으로 선언된 필드의 클래스로 구현 클래스 객체를 생성함으로써 다형성을 가질 수 있음





---------





## 오버라이딩 (Overriding)

> **메소드 재정의**

- 부모 클래스에서 상속받은 메소드를 그대로 사용하는 것이 아닌 **자식 클래스에서 재정의하여** 사용하는 것 (다형성)
- **상속 관계** 에서만 발생
- **메소드에만** 적용(필드x)
- 해당 부모 클래스 메소드 무시
- 조건
  - 부모 클래스에 선언된 메소드와 **이름, 반환형, 매개변수 리스트가 완전히 같아야함**
  - 부모 클래스 메소드의 접근 지정자보다 **접근 범위가 좁아서는 안됨**
  - public > protected > default > private



-------------





## @어노테이션 (Annotation)

> 프로그램에게 추가적인 정보를 제공하는 메타데이터

- 컴파일러에게 코드 작성 문법 에러 체크하도록 정보제공
- sw 개발 툴이 빌드 배치 시 코드 자동 생성하게 정보 제공
- 실행 시 특정 기능을 실행하도록 정보 제공

### @Override 어노테이션

- 컴파일러에게 부모 클래스의 메소드 선언부와 동일한지 검사 지시
- 정확히 오버라이드 되지 않았으면 에러 발생
- 정확한 메소드 재정의를 위해 붙여주면 됨

#### + toString() 메소드

- 객체가 텍스트 값으로 표시되거나, 문자열이 예상되는 방식으로 참조될 때 **자동으로 호출되는 메소드**
- 객체가 가지고 있는 정보나 값들을 문자열 형태로 반환
- 객체 출력시 toString() 자동 호출 //system.out.println(객체);

```java
@Override
	public String toString() {
		return "학생번호: " + stdNo + "학생이름: "+ stdName;
	}
```





----------





## 강제타입변환 (Casting)

> 부모 타입을 **자식 타입으로 변환** 하는 것
>
> 인터페이스 타입을 **구현클래스 타입으로 변환** 하는 것

- 부모타입 또는 인터페이스 타입으로 자동타입변환 된 자식 클래스/구현 클래스가 자신의 멤버(필드, 메소드)를 사용하기 위해 다시 타입변환하는 경우 사용됨
- 부모 클래스/인터페이스의 타입으로 자동타입변환 된 경우 자식클래스/구현클래스는 자신의 멤버 사용 못함
- 따라서 모든 경우에 강제타입변환이 가능한 것이 아니라 자동타입변환된 경우에만 가능
- 원위치 개념
- 자식클래스 변수 = (자식클래스) 부모클래스타입; 
- 구현클래스 변수 = (구현클래스)인터페이스타입;
- Child a = (Child) Parent;



### instanceof 연산자

>  강제타입변환을 하기전에 클래스가  부모 타입/인터페이스 타입으로 자동타입변환된 것인지 확인하기 위해 사용 
>
>  참조 변수(객체)가 클래스타입이면 true 반환 아니면 false 반환
>
>  (부모 클래스와 같이 인터페이스도 같은 방식)

- 참조변수 instanceof  클래스타입
- 왼쪽 참조변수(객체 인스턴스)가 오른쪽 클래스 타입의 인스턴스면 true 반환
- true 반환되면 참조변수가 검사한 타입(클래스 타입)으로 타입변환 가능
- 참조변수 instanceof Child // true면 Parent클래스 타입인 참조변수를 Child 타입으로 강제타입변환 가능 


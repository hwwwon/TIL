## 중첩 class

> 클래스 내부에 선언한 클래스

- 클래스가 여러 클래스와 관계가 있는 경우 독립적으로 선언하는 것이 좋으나
- 특정  클래스와 관계를 맺을 경우 관계 클래스를 해당 클래스 내부에 선언하는 것이 좋음
- 이점
  - 두 클래스 멤버들이 서로 쉽게 접근 가능
  - 코드의 복잡성을 줄일 수 있음
- 형태

```java
class ClassName {
    class NestedClassName {
        
    }
}
```

- 중첩클래스의 선언 위치에 따른 2가지 분류

  - **멤버 클래스**
    - 클래스이 멤버로서 선언되는 중첩 클래스
    - 클래스나 객체가 사용중이면 언제든지 재사용 가능
    - **인스턴스 멤버 클래스** 와 **정적(static) 멤버 클래스** 가 있음

  - **로컬 클래스**
    - 메소드 내에서만 선언되는 중첩 클래스
    - **메소드 실행 시에만 사용**
    - 메소드가 종료되면 없어짐



### 인스턴스 멤버 클래스

- static 키워드 없이 선언된 클래스

- 인스턴스 필드와 메소드만 선언 가능

- static 필드와 메소드는 선언할 수 없음

- 바깥 클래스의 객체를 생성 시에만 사용 가능

  ```java
   A  a = new A(); // A객체 생성
  A.B b = a.new B(); // B객체 생성
  ```

  

### 정적 멤버 클래스

- static 키워드로 선언된 클래스

- 모든 종류의 필드, 메소드 선언 가능

- 바깥 클래스 생성 없이 사용 가능

  ```java
  A.C c = new A.C();
  ```



### 로컬 클래스

- 메소드 내에서 선언된 클래스
- 메소드 내에서만 사용하기 때문에 접근 제한과 static이 필요 없음
- 로컬 클래스 내부에는 인스턴스 필드와 메소드만 선언이 가능 (static x)



### 중첩 class의 접근 제한

> 1.  바깥 필드와 메소드에서 사용제한
> 2.  멤버 클래스에서 사용제한
> 3.  로컬 클래스에서 사용제한

#### 1. 바깥 필드와 메소드에서 사용 제한

- 인스턴스 멤버 클래스
  - 인스턴스 필드 초기화 또는 메소드에서 객체 생성 가능
  - 정적 필드 초기화와 정적 메소드에서 객체 생성 불가능
- 정적 멤버 클래스
  - 모든 필드의 초기화 또는 모든 메소드에서 객체 생성 가능



#### 2. 멤버 클래스에서 사용제한

- 인스턴스 멤버 클래스
  - 인스턴스 멤버 클래스 안의 필드와 메소드가 바깥 클래스의 모든 필드와 메소드에 접근 가능
- 정적 멤버 클래스
  - **바깥 클래스의 정적 필드와 메소드에만 접근 가능**
  - 인스턴스 필드와 메소드에는 접근 불가



#### 3. 로컬 클래스에서 사용제한

- 로컬 클래스 내부에서는 **바깥 클래스의 필드나 메소드를** 제한 없이 사용 가능함
- 문제점
  - 메소드의 매개변수나 로컬 변수를 사용할 때 
  - 로컬 클래스의 객체는 메소드 실행이 끝나도 힙 메모리 영역에 존재해 사용 가능하지만
  - 메소드는 실행이 끝나면 매개변수와 로컬변수가 스택 메모리에서 사라짐
  - 따라서 로컬 객체에서 사용할 경우 문제 발생
- 변수 final 선언
  - final로 선언해서 수정하지 못하게 함
  - 메소드의 매개변수나 로컬 변수를 로컬 클래스가 사용할 경우 값이 달라지는 문제를 해결하기 위함
  - 즉, 로컬 클래스에서 사용 가능한 것은 **final로 선언된 매개변수와 로컬변수**
  - 자바7 이전까지는 final 키워드가 없으면 컴파일 오류가 발생했지만 자바8부터는 final 키워드 없어도 오류 없음(final 특성을 가짐)



### 중첩 클래스에서 바깥 클래스 참조 얻기

> **this 사용**

- 바깥 클래스.this.필드
- 바깥 클래스.this.메소드()
- this.필드와 this.메소드()는 **중첩 클래스의 필드와 메소드**



-----------------------



## 중첩 Interface

>  클래스 내부에 선언된 인터페이스

- 해당 클래스와 긴밀한 관계를 맺는 **구현 클래스를** 만들기 위해 사용(주로 클래스 외부에서는 사용하지 않고 클래스에서만 사용하는 경우)
- UI 컴포넌트 내부 이벤트 처리를 위한 인터페이스 사용에 많이 활용됨
- 형태

```java
class ClassName{
    interface NestedInterfaceName{
        
    }
}
```


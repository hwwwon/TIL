# 프레임워크 기반의 서비스 프로그래밍 

> 백엔드 프로그래밍
>
> 웹 개념 / 서블릿 / JSP / Spring



## 웹 개념 - 웹 프로그래밍의 이해

### 웹서비스

- 인터넷을 기반으로 제공되는 서비스

### 웹 애플리케이션

- 웹을 기반으로 작동되는 프로그램
- 웹 프로그래밍을 통해 구현

### 개요

- 웹 프로그래밍은 기본적으로 클라이언트 (Client) / 서버(Server)  방식
- 정적인 HTML만으로는 데이터가 실시간으로 변화하는 것을 처리하거나 저장하기에는 불가능
- 동적으로 변화하는 데이터를 처리하고 표시하기 위해 개발된 언어들이  CGI, ASP, PHP, JSP, Sevelet,..
- 정적 웹 프로그래밍
- 동적 웹 프로그래밍



### 정적 웹 프로그래밍

- 웹 서버에 미리 보여줄 HTML 페이지, CSS, 이미지 , 자바스크립트 파일 등을 저장해 놓고 브라우저에서 요청할 경우 그대로 전달하는 방식

- 사용자는 페이지가 변경되지 않는 한 고정된 웹페이지를 보게됨 (물론 페이지 레이아웃 등이 동적으로 변경 가능)
- 주로 화면의 디자인을 구성하거나 클라이언트의 이벤트를 처리함
- 실시간 데이터 처리 또는 데이터 저장 등을 표현하거나 다루는데 적합하지 않은 방식

#### 정적 웹프로그래밍의 구성 요소

- 클라이언트(웹 브라우저) 
  - 인터넷으로 서버에 접속한 후 서버로부터 서비스를 제공받는 컴퓨터와 소프트웨어(웹브라우저)
- 웹서버
  - 각 클라이언트로 부터 요청을 받고 서비스를 제공하는 컴퓨터와 소프트웨어
- http 프로토콜 (통신규약)
  - Hyper Text Transfer Protocol
  - WWW 서비스를 제공하는 프로토콜을 이용해서 정보를 주고 받음
- HTML 
  - WWW 서비스를 제공하기 위한 표준 언어
- 자바스크립느
  - HTML 웹 페이지의 여러가지 동적인 기능을 제공하기 위한 스크립트 언어
- CSS 
  - HTMl 페이지의 디자인 관련 기능 처리하기 위한 언어



### 동적 웹 프로그래밍

- 정적 웹 프로그래밍에서 관리자의 역할을 웹 애플리케이션 서버가 수행
- 웹 애플리케이션 : Web Application Server : WAS
-  클라이언트의 요청이 있을 때 마다 데이터베이스에 접근해서 실시간 정보를 클라이언트에게 전송
- 초기 동적 웹 프로그램에서 사용하는 방식
  - CGI (Common Gate Interface) : 공용 게이트웨이 인터페이스
    - 대표적인 CGI 언어 : 펄 (Perl)
    - 프로세스 방식으로 실행됨
    - 프로세스 마다 메모리에 로드하는 방식으로 메모리에 괍하 발생하는 문제
  - 이런 문제를 해결하면서 나온 기술  : JSP, ASP, PHP
    - 브라우저 요청 시 스레드 방식으로 실행하면서  CGI 보다 효율적으로 기능을 수행함
    - 클라이언트 요구를 처리하는 기능은 최초 한 번만 메모리에 로드
    - 동일한 기능 요구 시 기존에 사용한 기능을 재사용
    - 따라서 프로세스 방식으로 동작하는 것 보다 훨씬 빠르게 수행



### 웹 서비스의 구성요소

- 웹 브라우저 : 클라이언트, 사용자의 작업 창
- 웹 서버: 웹 브라우저의 요청을 받아들이는 곳
- 웹 애플리케이션 서버(WAS)
  -  요청된 페이지의 로직 및 데이터베이스와의 연동을 처리하는 부분
  - Apache Tomcat
- 데이터베이스 : 데이터의 저장소



#### 웹 서버

- 웹에서 서버 기능을 수행하는 프로그램
- HTTP 프로토콜 기반
- 웹 클라이언트 (웹 브라우저)로 부터 요청을 서비스(제공)하는 기능 담당
- 정적인 콘텐츠 (HTML, CSS, JPG 등) 제공
- 동적인 콘텐츠 (데이터 처리) 요청은 웹 컨테이너 (WAS에 포함)에게 보내고 웹 컨테이너가 처리한 결과를 클라이언트에게 응답

#### 웹서버 종류

- Apache (리눅스 / 유닉스 / 윈도우)
- IIS(Internet Information Server): MS



#### 웹 컨테이너(Web Container)

- 웹 애플리케이션을 실행할 수 있는 컨테이너
- JSP와 Servlet(서블릿)을 실행 시킬 수 있는 소프트웨어
- 웹 서버가 서블릿 자체를 실행하지 못하므로 JVM을 내장한 컨테이너라는 서블릿 실행환경이 필요
- 서블릿과 JSP에 대한 실행 환경 제공
- 물론, Static Page(정적 페이지)에 대한 요청도 처리 가능

- 웹 서버에서  JSP를 요청하면서 톰켓 (웹서버 + 컨테이너)에서 JSP 파일을 서블릿으로 변환하여 컴파일을 수행하고 
- 서블릿 수행 결과를 웹 서버에게 전달 -> 클라이언트에게 전달
- 웹 애플리케이션 당 한 개의 SevletContext 객체 생성



